# Отчетик по лидам  

## Цель: создать удобный и быстрый отчет по Лидам, с дальнейшей поддержкой и с возможностью легко внедрять доработки и улучшения для своего проекта)  

## Описание:  

- создать демо-портале приложение "Отчет по Лидам"  
- структура приложения:  
 - заголовок "Таблица отчетности по Лидам за период"  
 - форма:  
   - "Дата создания Лида";  
   - от {{ инпут дата }};  
   - до {{ инпут дата }};  
   - кнопка "НАЙТИ";  
   - по умолчанию(при запуске) дата выставлена текущий календарный месяц (пример, сегодня 15е число значит: от - это начало дня 1числа, до - это конец текущего дня(15го) );  
 - простой информационный блок лишь с одной строкой `Найдено лидов: ${количество лидов}шт`, где при каждом изменении даты происходит изменения количества найденных лидов;  
 - Таблица:  
   - поля таблицы:  
     - "ответственный" круглая фотография 34*34рх и Фамилия Имя (вся ячейка это ссылка на открытие пользователя в слайдере) ;  
     - "название" вся ячейка это ссылка на открытие в слайдере;  
     - "Номер" (ИД лида);  
     - "статус" (русское название из метода "crm.status.list");  
     - "источник" (русское название из метода "crm.status.list");  
     - "дата создания" (человекочитаемое название для дат DD.MM.YYYY);  
     - "дата изменения";  
     - "дата закрытия" (если поле пустое то ячейка таблицы пустая);  
   - если полученных лидов больше 100, то делать пагинацию на постраничное отображение в таблице по 100 лидов;  
   - при клике на заголовок происходит сортировка тела таблицы по числу/дате/тексту в обе стороны;  
 - лоадер блок, который показывается при загрузке данных в центре экрана;  
- особенности работы:  
 - при запуске в таблице показывать демо данные, один ряд в таблице. Демо-данные: | Пользователь | Задача | 0 | завершена |  Звонок | 01.01.2022 | 01.01.2022 | 01.01.2022 |  
 - при нажатии на ячейку с названием Лида открывать его в нативном слайдере Битрикса;  
 - при нажатии на ячейку с пользователем открывать его в нативном слайдере Битрикса;  
 - данные в таблице серым цветом, но если можно кликнуть то голубым цветом с ховер эффектом;  
 - для ввода даты используем библиотеку "https://air-datepicker.com/ru";  
 - метод получения Лидов "crm.lead.list";  
 - при каждой смене даты меняется количество найденных лидов;  
 - после нажатия кнопки поиск всплывает окно загрузки (лоадер) можно взять из Битрикса или предложить свой;  
 - таблица должна быть резиновая, и растягиваться на всю ширину экрана;  
 - эффект при наведении на ряд таблицы, и на ячейку таблицы выделять разными цветами;  
 - в шапке таблицы, при наведении появляется стрелочка сортировки, которая переворачивается при изменении (нажатии) направления сортировки;  
 - пагинация как в Битриксе, если есть пагинация, то сортировка перекидывает на первую страницу см результатом сортировки;  
 - на ссылках эффекты ховера;  

### ограничения:  

- пока что не используем сторонние библиотеки кроме BX24, air-datepicker и JQuery;  
- после нажатия поиска, получаем все лиды по фильтру, а уже на фронте ими манипулируем, по типу пагинации и прочего;  

### Методы, которые понадобятся:  
- "crm.status.list";  
- "crm.lead.list";  
- "user.get";  
- "BX24.fitWindow";  
- "BX24.resizeWindow";  
- "...";  

### сценарий работы приложения:  
 - пользователь заходит в приложение;  
 - выставляет дату;  
 - нажимает "Найти";  
 - ждет окончания загрузки;  
 - наслаждается табличкой;  
 - при желании может повторить действия;  