# Приложение переехало в собственный [репозиторий](https://github.com/exi66/bambit-delete-webmaster)

# Структура приложения:

1. Заголовок "Удаление записей различных сущностей".  
 
2. Селектор на выбор сущности:  
- Лиды (по умолчанию);  
- Задачи;  
- Компании;  
- ... сущности будут добавлены позже, то есть нужно сделать такую структуру приложения, что бы можно было легко расширять, на сколько это возможно.
Пример расширения: Сделки, Счета, Контакты, Смарт-процессы(будет расширенный функционал фильтра).  

3. Широкий инпут-фильтр с текстом "Фильтр" (не сам инпут, а его имитация, то есть div с бордером) в который будут добавляться корточки выбранных фильтров в выпадающем окне, например могут быть такие карточки "ИД от 516 до 652", "Дата создания от 05.08.2022 до 22.10.2022", "Вероника Горяная", "Имя: 'Поточный'", "Не оплаченный".  
При клике сразу под ним появляется выпадающее окно с полями фильтрации.  
У каждого типа сущности свои поля, если не выбраны то идет поиск без ограничения.  

Струра выпадающего окна:  
Лиды:
- "Идентификатор Лида: от ${инпут число} до ${инпут число}", включает введенное число;  
- "Дата создания Лида: от ${инпут дата} до ${инпут дата}"  
- поле ввода(не настоящий инпут, имитация) с плейсхолдером "Ответственный" с нативным выбором пользователей, после выбора, в поле ввода помещаются карточки пользователей "Иванов Иван (х)" с возможностью удаления карточки  
- "Содержит название ${инпут текст}"  
- "Статус ${селектор выбора статуса Лида}"  
Задачи:  
- "Идентификатор Задачи: от ${инпут число} до ${инпут число}", включает введенное число;  
- "Дата создания Задачи: от ${инпут дата} до ${инпут дата}"  
- поле ввода(не настоящий инпут, имитация) с плейсхолдером "Ответственный" с нативным выбором пользователей, после выбора, в поле ввода помещаются карточки пользователей "Иванов Иван (х)" с возможностью удаления карточки  
- "Содержит название ${инпут текст}"  
- "Статус ${селектор выбора статуса Задач}"  
Компании:  
- "Идентификатор Компании: от ${инпут число} до ${инпут число}", включает введенное число;  
- "Дата создания Компании: от ${инпут дата} до ${инпут дата}"  
- поле ввода(не настоящий инпут, имитация) с плейсхолдером "Ответственный" с нативным выбором пользователей, после выбора, в поле ввода помещаются карточки пользователей  "Иванов Иван (х)" с возможностью удаления карточки  
- "Содержит название ${инпут текст}"  

4. Большая информационно-функциональная карточка:  
 
Структура:  
- Заголовок `Сущность: ${имя сущности из селектора}`  
- Текст и кнопка(голубая): `Количество: ${найдено по фильтру}шт`, "Посмотреть"  
- Широкая кнопка в центре "Удалить все"  

Особенности:
- реактивно меняется количество и заголовок в зависимости от фильтра  

Кнопка "Посмотреть".  
Открывается модальное окно с лоадером с контекстом "получение", загружает и запоминает записи(если не будет изменён фильтр то по этим записям будет удаление, чтобы не получать их 2 раза).  
Открывает в слайдере таблицу с найденными сущностями, если больше 50, то с пагинацией по 50шт.  

Поля таблицы:  
- тип сущности(текстовое название "Лид", "Сделка" и тд);  
-  название(ссылка);  
-  ответственный ссылка (фото, фамилия и имя);  
-  дата создания;  
-  кнопка "Удалить". Особенности кнопки "Удалить" в таблице, после нажатия:  
- - в таблице сразу анимация лоадера, пока не будет удалена сущность, после удачного запроса текст "Удален" и ряд в таблице с прозрачностью 0.5, при неудаче текст "Ошибка";  
- - открывает попап для подтверждения действия, содержит вопрос - `Удалить ${сущность} ${название}?`, кнопки "Удалить" и "Отмена", клик на задний фон (затемненный оверлей) тоже срабатывает как отмена.  

Кнопка "Удалить все"
- открывает попап для подтверждения действия, содержит вопрос - `Вы действительно хотите УДАЛИТЬ? Сущность ${сущность}. Количество записей ${количество}шт.`, кнопки "Удалить" и "Отмена", клик на задний фон (затемненный оверлей) тоже срабатывает как отмена.  
Подтверждение действия открывает модальное окно с лоадером с контекстом удаления.  
Если до этого не была нажата кнопка "Посмотреть" то в Лоадере процесс начинается с получения записей, то есть их ИД.  

## Структура Лоадера:
- заголовок меняется от типа операции, например "Подготовка", "Получение записей типа сущности ${Лид/задача...}", "Удаление" и тд.;  
- анимация (большой лоадер);  
- текст `${"Удаление" || "Получение"} записей: ${получено}шт из ${всего}шт`;  
- Зеленый статус бар, с ценой деления по 50шт. (=====____________);  
- кнопка "ОТМЕНА", отменяет запросы текущей и следующих операций и закрывает модальное окно.  


## Сценарий работы с точки зрения пользователя:  
- открывает приложение;  
- выбирает сущность;  
- выставляет параметры фильтра (дата создания, ответственный, заголовок, ...);  
- в информационной карточке убеждается что найдено верно;  
- просматривает/удаляет;  
- закрывает приложение;  

## Ответы на возможные вопросы:
- когда будет прототип, привлечем дизайнеров и поработаем над ним;  
- код должен быть простой, понятный и с комментариями, в случае чего, для легкой правки и доработки;  
- должна быть защита, что бы не удалить случайно не те сущности или не те записи.  
